process TEST = {

   untracked PSet maxEvents = {untracked int32 output = 5}

   untracked PSet configurationMetadata =
   {
      untracked string version = "1.1"
      untracked string name = "test_EMJetHeep_QCD.cfg"
      untracked string annotation = "generation of QCD em-jets with double-leg HEEP preselection"
   }

   include "FWCore/MessageService/data/MessageLogger.cfi"
   # control point for all seeds
   #
   include "Configuration/StandardSequences/data/SimulationRandomNumberGeneratorSeeds.cff"

   include "SimGeneral/HepPDTESSource/data/pythiapdt.cfi"

   source = PythiaSource
  {
    untracked int32 pythiaPylistVerbosity = 0
    untracked bool pythiaHepMCVerbosity = false
    untracked int32 maxEventsToPrint = 0  
    
    # put here the cross section of your process (in mkb) dummy
    untracked double crossSection =  2.767
    # put here the efficiency of your filter (1. if no filter) dummy
    untracked double filterEfficiency =  0.0185 

    PSet PythiaParameters =
    {
      vstring parameterSets =
      {
        "pythiaUESettings",
        "pythiaQCDgen"
      }

      include "Configuration/Generator/data/PythiaUESettings.cfi"

      vstring pythiaQCDgen =
      {
        "MSEL=1                  ! QCD hight pT processes (ISUB=11, 12, 13, 28, 53, 68)",
        "CKIN(3)=80.00            ! pt_hat_min",
        "CKIN(4)=120.0            ! pt_hat_max"
      } 
    }
   }


   module emj_filter = PythiaFilterEMJetHeep {
       
       untracked string moduleLabel = 'source'
#     
       untracked double MinEventPt = 80.  

       untracked double MaxPhotonEta= 2.8
       untracked double ConeClust  = 0.10
       untracked double ConeIso    = 0.50
       untracked uint32 NumPartMin = 2
       untracked double dRMin = 0.4
#
       untracked int32 MaxEvents = 10000

       untracked bool Debug = false
   }

   path p1 = { emj_filter}

 # Event output
   include "Configuration/EventContent/data/EventContent.cff"

   module GEN = PoolOutputModule 
   { 
        untracked string fileName = "EMJetHeep_QCD_diem.root"
        untracked PSet dataset ={       
           untracked string dataTier = "GEN"
        }
        untracked PSet SelectEvents = {
           vstring SelectEvents = {"p1"}
        }
   }

   endpath outpath = {GEN}

   schedule = {p1,outpath}
}

