process PROD = {

   untracked PSet maxEvents = {untracked int32 output = 1}

   untracked PSet configurationMetadata = {
           untracked string version = "Revision: 1.1 "
           untracked string name = "name" 
           untracked string annotation = "diphoton preselection  production sim"
   }



#   include "FWCore/MessageService/data/MessageLogger.cfi"
#   replace MessageLogger.cout.threshold = "ERROR"
#   replace MessageLogger.cerr.default.limit = 10


   service = RandomNumberGeneratorService
   { 
      untracked uint32 sourceSeed = 1000000
      PSet moduleSeeds =
      {
         untracked uint32 VtxSmeared = 20000000
         untracked uint32 g4SimHits  = 30000000
         untracked uint32 mix        = 40000000
      }
   }


  source = PythiaSource 
  { 
  untracked int32 pythiaPylistVerbosity = 0
  untracked bool pythiaHepMCVerbosity = false
  untracked int32 maxEventsToPrint = 0
  
  # put here the cross section of your process (in pb) dummy
  untracked double crossSection = 5.3
  # put here the efficiency of your filter (1. if no filter) dummy
  untracked double filterEfficiency = 1.

      PSet PythiaParameters = {
        vstring parameterSets = {
          "pythiaUESettings",
          "pythiaHgg"
        }

        include "Configuration/Generator/data/PythiaUESettings.cfi"

        vstring pythiaHgg = {
          "MSEL=1                  ! User defined processes",
          "CKIN(3)=25              ! pthat min for 2->2 interaction",
          "CKIN(4)=-1              ! pthat max for 2->2 interaction"
        }
      }
   }

   module filter = PythiaFilterGammaGamma {
      untracked string moduleLabel = "source"
      untracked double PtSeedThr = 5.
      untracked double EtaSeedThr = 2.6
      untracked double PtGammaThr = 0.
      untracked double EtaGammaThr = 2.8
      untracked double PtElThr = 2.0
      untracked double EtaElThr = 2.8
      untracked double dRSeedMax = 0.0
      untracked double dPhiSeedMax = 0.3
      untracked double dEtaSeedMax = 0.12
      untracked double dRNarrowCone = 0.02
      untracked double PtTkThr = 1.6
      untracked double EtaTkThr = 2.2
      untracked double dRTkMax = 0.2
      untracked double PtMinCandidate1 = 37.5
      untracked double PtMinCandidate2 = 22.5
      untracked double EtaMaxCandidate = 2.6
      untracked int32 NTkConeMax = 2
      untracked int32 NTkConeSum = 3
      untracked double InvMassWide = 80
      untracked double InvMassNarrow = 14000
      untracked bool AcceptPrompts = false
      untracked double PromptPtThreshold = 20.0	
   }

include "Configuration/StandardSequences/data/Simulation.cff"
include "Configuration/StandardSequences/data/MixingNoPileUp.cff"
include "Configuration/StandardSequences/data/VtxSmearedGauss.cff"

 path p1 = {filter,psim}

include "Configuration/EventContent/data/EventContent.cff"

   module GEN-SIM = PoolOutputModule 
   { 
        using FEVTSIMEventContent
        untracked string fileName = "GEN_SIM.root"
        untracked PSet dataset ={       
           untracked string dataTier = "GEN-SIM"
        }
        untracked PSet SelectEvents = {
           vstring SelectEvents = {"p1"}
        }
   }

   endpath outpath = {GEN-SIM}

   schedule = {p1,outpath}




}
