process PROD = {

# return trigger report (including filter efficiencies)
untracked PSet options = { untracked bool wantSummary = true }

   untracked PSet maxEvents = {untracked int32 output = 1}

#jlamb - I don't know what this is so I leave it blank
#   untracked PSet configurationMetadata = {
#           untracked string version = "Revision: 1.1 "
#           untracked string name = "name" 
#           untracked string annotation = "diphoton preselection  production sim"
#   }



#   include "FWCore/MessageService/data/MessageLogger.cfi"
#   replace MessageLogger.cout.threshold = "ERROR"
#   replace MessageLogger.cerr.default.limit = 10


   service = RandomNumberGeneratorService
   { 
      untracked uint32 sourceSeed = 1000000
      PSet moduleSeeds =
      {
         untracked uint32 VtxSmeared = 20000000
         untracked uint32 g4SimHits  = 30000000
         untracked uint32 mix        = 40000000
      }
   }


include "PhysicsTools/HepMCCandAlgos/data/genParticles.cfi"

# magnetic field
include "Geometry/CMSCommonData/data/cmsMagneticFieldXML.cfi"
 
 es_module = UniformMagneticFieldESProducer {
  
 double ZFieldInTesla = 4.0
 }
es_prefer = UniformMagneticFieldESProducer{}


  source = PythiaSource 
  { 
  untracked int32 pythiaPylistVerbosity = 0
  untracked bool pythiaHepMCVerbosity = false
  untracked int32 maxEventsToPrint = 0
  
  # put here the cross section of your process (in pb) dummy
  untracked double crossSection = 5.3
  # put here the efficiency of your filter (1. if no filter) dummy
  untracked double filterEfficiency = 1.

      PSet PythiaParameters = {
        vstring parameterSets = {
          "pythiaUESettings",
          "pythiaQCD_Pt_30_50"
        }

        include "Configuration/Generator/data/PythiaUESettings.cfi"

        vstring pythiaQCD_Pt_30_50 = {
	 'MSEL=1                 ! QCD high pT processes',
	 'CKIN(3)=30.          ! minimum pt hat for hard interactions',
	 'CKIN(4)=50.          ! maximum pt hat for hard interactions'      
        }
      }
   }

include "GeneratorInterface/GenFilters/data/EMEnrichingFilter.cfi"
include "GeneratorInterface/GenFilters/data/BCToEFilter.cfi"

include "Configuration/StandardSequences/data/Simulation.cff"
include "Configuration/StandardSequences/data/MixingNoPileUp.cff"
include "Configuration/StandardSequences/data/VtxSmearedGauss.cff"

 path p1 = {	genParticles,!bctoefilter,emenrichingfilter}

   module GEN = PoolOutputModule 
   { 
        untracked string fileName = "GEN.root"
        untracked PSet dataset ={       
           untracked string dataTier = "GEN"
        }
        untracked PSet SelectEvents = {
           vstring SelectEvents = {"p1"}
        }
   }

   endpath outpath = {GEN}

   schedule = {p1,outpath}




}
